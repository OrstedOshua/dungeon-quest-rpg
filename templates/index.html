<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Quest RPG</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="container">
        <div class="login-box">
            <h1>‚öîÔ∏è Dungeon Quest ‚öîÔ∏è</h1>
            <div class="input-group">
                <input type="text" id="username" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞" maxlength="20">
            </div>
            <button class="btn" onclick="login()">–ù–∞—á–∞—Ç—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</button>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="container hidden">
        <!-- Left Panel: Character Info -->
        <div>
            <div class="card">
                <h2>üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂</h2>
                <div class="character-info">
                    <div class="stat-row">
                        <span class="stat-label">–ò–º—è:</span>
                        <span class="stat-value" id="playerName">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–£—Ä–æ–≤–µ–Ω—å:</span>
                        <span class="stat-value" id="playerLevel">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–ó–æ–ª–æ—Ç–æ:</span>
                        <span class="stat-value" id="playerGold">-</span>
                    </div>
                    
                    <div style="margin-top: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>‚ù§Ô∏è HP:</span>
                            <span id="playerHp">-</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="hpBar" style="width: 100%;">-</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>‚≠ê –û–ø—ã—Ç:</span>
                            <span id="playerExp">-</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="expBar" style="width: 0%;">-</div>
                        </div>
                    </div>
                    
                    <div class="stat-row">
                        <span class="stat-label">‚öîÔ∏è –°–∏–ª–∞:</span>
                        <span class="stat-value" id="playerStrength">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">üõ°Ô∏è –ó–∞—â–∏—Ç–∞:</span>
                        <span class="stat-value" id="playerDefense">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">‚ö° –õ–æ–≤–∫–æ—Å—Ç—å:</span>
                        <span class="stat-value" id="playerAgility">-</span>
                    </div>
                </div>
            </div>
            
            <div class="card" style="margin-top: 20px;">
                <h2>üéí –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞</h2>
                <div class="equipment-slot">
                    <strong>‚öîÔ∏è –û—Ä—É–∂–∏–µ:</strong>
                    <div id="equippedWeapon">-</div>
                </div>
                <div class="equipment-slot">
                    <strong>üõ°Ô∏è –ë—Ä–æ–Ω—è:</strong>
                    <div id="equippedArmor">-</div>
                </div>
                <div class="equipment-slot">
                    <strong>üíç –ê–∫—Å–µ—Å—Å—É–∞—Ä:</strong>
                    <div id="equippedAccessory">-</div>
                </div>
            </div>
        </div>

        <!-- Center Panel: Combat/Main Area -->
        <div>
            <div class="card combat-area">
                <h2>‚öîÔ∏è –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è</h2>
                
                <div style="margin-bottom: 20px;">
                    <button class="btn btn-success" onclick="startCombat()">üó°Ô∏è –ò—Å–∫–∞—Ç—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞</button>
                    <button class="btn btn-secondary" onclick="healPlayer()" style="margin-left: 10px;">‚ù§Ô∏è –õ–µ—á–∏—Ç—å—Å—è (20 üí∞)</button>
                </div>
                
                <div id="combatArea" class="hidden">
                    <div class="monster-display">
                        <h3 id="monsterName">-</h3>
                        <div style="color: var(--text-secondary);">–£—Ä–æ–≤–µ–Ω—å <span id="monsterLevel">-</span></div>
                        <div class="monster-hp">
                            <div class="progress-bar">
                                <div class="progress-fill" id="monsterHpBar" style="width: 100%;">
                                    <span id="monsterHp">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="combat-log" id="combatLog"></div>
                    
                    <div class="combat-buttons">
                        <button class="btn" onclick="attack()">‚öîÔ∏è –ê—Ç–∞–∫–æ–≤–∞—Ç—å</button>
                        <button class="btn btn-secondary" onclick="fleeCombat()">üèÉ –°–±–µ–∂–∞—Ç—å</button>
                    </div>
                    
                    <div id="rewardDisplay" class="reward-display hidden"></div>
                </div>
            </div>
            
            <div class="card" style="margin-top: 20px;">
                <h2>üìú –ö–≤–µ—Å—Ç—ã</h2>
                <div id="questList" class="quest-list"></div>
            </div>
        </div>

        <!-- Right Panel: Shop & Inventory -->
        <div>
            <div class="card">
                <h2>üè™ –ú–∞–≥–∞–∑–∏–Ω</h2>
                <div id="shopItems" class="shop-items"></div>
            </div>
            
            <div class="card" style="margin-top: 20px;">
                <h2>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
                <div id="inventoryItems" class="inventory-grid"></div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>